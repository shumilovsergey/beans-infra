#  Вступление

Лёгкий прокси-сервер для безопасного доступа к внешним сервисам из изолированных локальных сетей.  


#  Маршруты

| Route   | Описание |
|--------|---------|
| `/ping`  | Health-check для проверки доступности сервиса |
| `/proxy` | Прокси-эндпоинт. Пересылает запросы на адрес из переменной окружения `UPSTREAM_BASE_URL` |


#  Структура репозитория

- /bin -> бинарник + bash-скрипт для установки и запуска сервиса
- /build -> исходные файлы сборки
- Dockerfile -> правила сборки проекта (под разные архитектуры через buildx)

# Переменные окружения

| Переменная | Назначение |
|-----------|------------|
| `PORT` | Порт HTTP сервера |
| `UPSTREAM_BASE_URL` | Адрес внешнего сервиса, куда будет происходить прокси |
| `SERVICE_NAME` | Имя сервиса |
| `BIN_NAME` | Имя бинарного файла |
| `INSTALL_DIR` | Путь для установки бинарника |
| `SERVICE_FILE` | Путь для системного сервиса |
| `USER` | Пользователь, под которым запускается сервис |

#  Быстрый старт

- клонировать репозиторий
- cd bin/
- отредактировать переменные окружения в install.sh
- chmod +x install.sh
- bash install.sh
- настроить UFW / firewall, чтобы разрешить нужный порт

# Проверка

```bash
путь/до/бинарника --version
```

```bash
curl -v http://localhost/ping
```
